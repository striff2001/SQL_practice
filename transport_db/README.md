# Описание базы данных

## Общая информация
База данных предназначена для хранения информации о транспортных средствах, включая автомобили, мотоциклы и велосипеды. Она содержит таблицы для каждого типа транспортного средства, а также общую таблицу с базовой информацией о моделях.

## Структура базы данных

### 1. Таблица `Vehicle`
Содержит основную информацию о транспортных средствах.

| Поле  | Тип | Описание |
|-------|-----|----------|
| `maker` | `VARCHAR(100)` | Производитель транспортного средства |
| `model` | `VARCHAR(100)` | Модель транспортного средства (уникальный идентификатор) |
| `type` | `VARCHAR(20)` | Тип транспортного средства (`Car`, `Motorcycle`, `Bicycle`) |

**Ограничения:**
- `model` является первичным ключом.
- Поле `type` принимает только значения `Car`, `Motorcycle` или `Bicycle`.

### 2. Таблица `Car`
Содержит информацию о автомобилях.

| Поле  | Тип | Описание |
|-------|-----|----------|
| `vin` | `VARCHAR(17)` | Уникальный идентификатор автомобиля (VIN) |
| `model` | `VARCHAR(100)` | Модель автомобиля (ссылка на `Vehicle`) |
| `engine_capacity` | `DECIMAL(4,2)` | Объем двигателя (в литрах) |
| `horsepower` | `INT` | Мощность (в лошадиных силах) |
| `price` | `DECIMAL(10,2)` | Цена (в долларах) |
| `transmission` | `VARCHAR(20)` | Тип трансмиссии (`Automatic`, `Manual`) |

**Ограничения:**
- `vin` является первичным ключом.
- Поле `model` является внешним ключом, ссылающимся на `Vehicle(model)`.
- Поле `transmission` принимает только значения `Automatic` или `Manual`.

### 3. Таблица `Motorcycle`
Содержит информацию о мотоциклах.

| Поле  | Тип | Описание |
|-------|-----|----------|
| `vin` | `VARCHAR(17)` | Уникальный идентификатор мотоцикла (VIN) |
| `model` | `VARCHAR(100)` | Модель мотоцикла (ссылка на `Vehicle`) |
| `engine_capacity` | `DECIMAL(4,2)` | Объем двигателя (в литрах) |
| `horsepower` | `INT` | Мощность (в лошадиных силах) |
| `price` | `DECIMAL(10,2)` | Цена (в долларах) |
| `type` | `VARCHAR(20)` | Тип мотоцикла (`Sport`, `Cruiser`, `Touring`) |

**Ограничения:**
- `vin` является первичным ключом.
- Поле `model` является внешним ключом, ссылающимся на `Vehicle(model)`.
- Поле `type` принимает только значения `Sport`, `Cruiser`, `Touring`.

### 4. Таблица `Bicycle`
Содержит информацию о велосипедах.

| Поле  | Тип | Описание |
|-------|-----|----------|
| `serial_number` | `VARCHAR(20)` | Уникальный идентификатор велосипеда (серийный номер) |
| `model` | `VARCHAR(100)` | Модель велосипеда (ссылка на `Vehicle`) |
| `gear_count` | `INT` | Количество передач |
| `price` | `DECIMAL(10,2)` | Цена (в долларах) |
| `type` | `VARCHAR(20)` | Тип велосипеда (`Mountain`, `Road`, `Hybrid`) |

**Ограничения:**
- `serial_number` является первичным ключом.
- Поле `model` является внешним ключом, ссылающимся на `Vehicle(model)`.
- Поле `type` принимает только значения `Mountain`, `Road`, `Hybrid`.

## Связи между таблицами
- Таблица `Vehicle` содержит основную информацию о моделях всех транспортных средств.
- Таблицы `Car`, `Motorcycle` и `Bicycle` хранят специфическую информацию о каждом типе транспорта и ссылаются на `Vehicle` через поле `model`.



# ERD

![ERD](assets\transport_ERD.png)


# Задания

## Задание 1

**Условие:**<br>
Найдите производителей (maker) и модели всех мотоциклов, которые имеют мощность более 150 лошадиных сил, стоят менее 20 тысяч долларов и являются спортивными (тип Sport). Также отсортируйте результаты по мощности в порядке убывания.

**Ожидаемый вывод для тестовых данных:**

| maker | model |
| --- | --- |
| Yamaha |	YZF-R1 |

<br>

**Решение** представлено в файле `transport_task_1.sql`

## Задание 2

**Условие**<br>
Найти информацию о производителях и моделях различных типов транспортных средств (автомобили, мотоциклы и велосипеды), которые соответствуют заданным критериям.

Автомобили: <br>
Извлечь данные о всех автомобилях, которые имеют:

- Мощность двигателя более 150 лошадиных сил.
- Объем двигателя менее 3 литров.
- Цену менее 35 тысяч долларов.

В выводе должны быть указаны производитель (maker), номер модели (model), мощность (horsepower), объем двигателя (engine_capacity) и тип транспортного средства, который будет обозначен как Car.

Мотоциклы:<br>
Извлечь данные о всех мотоциклах, которые имеют:

- Мощность двигателя более 150 лошадиных сил.
- Объем двигателя менее 1,5 литров.
- Цену менее 20 тысяч долларов.

В выводе должны быть указаны производитель (maker), номер модели (model), мощность (horsepower), объем двигателя (engine_capacity) и тип транспортного средства, который будет обозначен как Motorcycle.

Велосипеды: <br>
Извлечь данные обо всех велосипедах, которые имеют:

- Количество передач больше 18.
- Цену менее 4 тысяч долларов.

В выводе должны быть указаны производитель (maker), номер модели (model), а также NULL для мощности и объема двигателя, так как эти характеристики не применимы для велосипедов. Тип транспортного средства будет обозначен как Bicycle.

Сортировка: <br>
Результаты должны быть объединены в один набор данных и отсортированы по мощности в порядке убывания. Для велосипедов, у которых нет значения мощности, они будут располагаться внизу списка.

**Ожидаемый вывод для тестовых данных:**

| maker	| model | horsepower	| engine_capacity	| vehicle_type |
| --- | --- | --- | --- | --- |
|Toyota |	Camry |	203	| 2.50 |	Car |
|Yamaha |	YZF-R1 |	200	| 1.00 |	Motorcycle |
|Honda |	Civic |	158 |	2.00 |	Car |
|Trek |	Domane |	NULL |	NULL |	Bicycle |
|Giant |	Defy |	NULL |	NULL |	Bicycle |

<br>

**Решение** представлено в файле `transport_task_2.sql`